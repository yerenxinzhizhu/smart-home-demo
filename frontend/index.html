<!DOCTYPE html>  <html>  <head>  
    <title>智能家居攻防Demo</title>  
    <style>  
        .scene { display: flex; gap: 20px; margin: 20px; }  
        .device { border: 2px solid #333; padding: 10px; width: 200px; text-align: center; }  
        .button { margin: 10px; padding: 8px 16px; cursor: pointer; }  
        .attack-btn { background: #ff4444; color: white; }  
        .defense-btn { background: #00C851; color: white; }  
        #log { margin: 20px; padding: 10px; border: 1px solid #ccc; height: 150px; overflow: auto; }  
    </style>  </head>  <body>  
    <h1>智能家居攻防演示</h1>  
    <div class="scene">  
        <!-- 智能门锁 -->  
        <div class="device">  
            <h3>智能门锁</h3>  
            <img src="https://picsum.photos/id/1/100/100" alt="智能门锁图片" width="100">  
            <p id="lock-status">状态：关闭</p>  
        </div>  
        <!-- 摄像头 -->  
        <div class="device">  
            <h3>摄像头</h3>  
            <img src="https://picsum.photos/id/2/100/100" alt="摄像头图片" width="100">  
            <p id="camera-status">识别结果：无</p>  
        </div>  
    </div>  

    <!-- 攻击按钮 -->  
    <div>  
        <h3>攻击操作</h3>  
        <button class="button attack-btn" onclick="sendAttack('fake_command')">1. 伪造开门指令</button>  
        <button class="button attack-btn" onclick="sendAttack('adversarial_image')">2. 对抗样本攻击</button>  
    </div>  

    <!-- 防御按钮 -->  
    <div>  
        <h3>防御操作</h3>  
        <button class="button defense-btn" onclick="toggleDefense('signature_check')">开启指令签名校验</button>  
        <button class="button defense-btn" onclick="toggleDefense('model_hardening')">开启模型加固</button>  
    </div>  

    <!-- 日志和数据 -->  
    <div id="log">日志：等待操作...</div>  
    <div>  
        <h3>效果数据</h3>  
        <p>攻击成功率：<span id="attack-rate">0%</span></p>  
        <p>防御拦截率：<span id="defense-rate">0%</span></p>  
    </div>  

    <script>  
        // 发送攻击请求到后端  
        function sendAttack(type) {  
            fetch('http://localhost:5000/attack', {  
                method: 'POST',  
                headers: { 'Content-Type': 'application/json' },  
                body: JSON.stringify({ type: type })  
            }).then(res => res.json()).then(data => {  
                updateUI(data); // 更新界面显示  
            });  
        }  

        // 切换防御状态  
        function toggleDefense(type) {  
            fetch('http://localhost:5000/defense', {  
                method: 'POST',  
                headers: { 'Content-Type': 'application/json' },  
                body: JSON.stringify({ type: type })  
            }).then(res => res.json()).then(data => {  
                updateUI(data);  
            });  
        }  

        // 更新界面状态和日志  
        function updateUI(data) {  
            document.getElementById('log').innerHTML += `<br>${data.log}`;  
            if (data.lockStatus) document.getElementById('lock-status').textContent = `状态：${data.lockStatus}`;  
            if (data.cameraStatus) document.getElementById('camera-status').textContent = `识别结果：${data.cameraStatus}`;  
            document.getElementById('attack-rate').textContent = `${data.attackRate}%`;  
            document.getElementById('defense-rate').textContent = `${data.defenseRate}%`;  
        }  
    </script>  </body>  </html>  